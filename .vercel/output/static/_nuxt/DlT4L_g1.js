import te from"./CjUD-tqt.js";import{_ as se}from"./TxntYzv-.js";import{_ as oe}from"./9nbd2Z0u.js";import{_ as ae}from"./Bwk0c3Z5.js";import{aA as ne,h as u,B as p,P as re,l as le,I as ie,c as w,o as m,a as s,f as M,b as r,u as n,t as h,H as $,d as y,k as P,j as D,v as de,Y as E,R,F as ce,r as ue,e as me}from"./DHjegAIK.js";import{u as j}from"./DxP5GMmS.js";import{u as ge}from"./DOtPdQ7M.js";const B=()=>({refreshAllNavigation:async()=>{try{const g=ne("cms.navigation",()=>({}));g.value={};const{refreshNavigation:i}=j();return await i("main"),window.dispatchEvent(new CustomEvent("navigation-refresh")),!0}catch(g){return console.error("Error refreshing all navigation:",g),!1}},listenForNavigationRefresh:()=>{window.addEventListener("navigation-refresh",async()=>{const{refreshNavigation:g}=j();await g("main")})}}),be={class:"space-y-6"},pe={key:0,class:"fixed top-20 right-4 z-50"},he={class:"font-medium"},ye=["disabled"],ve={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},fe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},xe={class:"relative"},we={class:"bg-white rounded-lg shadow-sm border border-gray-200"},_e={key:0,class:"flex justify-center items-center py-12"},Ce={key:1,class:"overflow-x-auto"},ke={class:"min-w-full divide-y divide-gray-200"},Le={class:"bg-white divide-y divide-gray-200"},Se={class:"px-6 py-4 whitespace-nowrap"},$e={class:"flex items-center"},Pe={class:"flex-shrink-0 h-10 w-10"},Ne={class:"h-10 w-10 rounded-lg bg-gray-300 flex items-center justify-center"},Ae={class:"mr-4"},De={class:"text-sm font-medium text-gray-900"},Ee={class:"text-sm text-gray-500"},Ie={class:"px-6 py-4 whitespace-nowrap"},Te={class:"flex items-center"},Oe=["href"],Me={class:"px-6 py-4 whitespace-nowrap"},Re={class:"px-6 py-4 whitespace-nowrap"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Be={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ve={class:"flex items-center space-x-2 space-x-reverse"},Fe=["href"],Ue=["onClick","title","disabled"],He=["onClick","disabled"],ze={key:2,class:"text-center py-12"},We={key:1,class:"flex items-center justify-between"},Qe={class:"text-sm text-gray-700"},Ye={class:"flex space-x-1 space-x-reverse"},Ze=["disabled"],qe={class:"px-3 py-2 text-sm bg-blue-600 text-white border border-blue-600 rounded-md"},Ge=["disabled"],k=10,at={__name:"index",setup(V){const l=u([]),g=u(!0),i=u(""),v=u(""),f=u(""),c=u(1),x=u(null),C=u(new Set),L=u(!1),S=(t,e="success")=>{x.value={message:t,type:e},setTimeout(()=>{x.value=null},3e3)},F=async()=>{try{if(L.value=!0,console.log("ðŸ”„ Force refreshing navigation..."),(await $fetch("/api/public/navigation/refresh",{method:"POST",body:{menu_name:"main"}})).success){const{refreshAllNavigation:e}=B();await e(),S("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨Ù†Ø¬Ø§Ø­","success"),console.log("âœ… Navigation refreshed successfully")}}catch(t){console.error("âŒ Error refreshing navigation:",t),S("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„","error")}finally{L.value=!1}},I=p(()=>{let t=l.value;return i.value&&(t=t.filter(e=>e.title_ar&&e.title_ar.toLowerCase().includes(i.value.toLowerCase())||e.title_en&&e.title_en.toLowerCase().includes(i.value.toLowerCase())||e.title&&e.title.toLowerCase().includes(i.value.toLowerCase())||e.content_ar&&e.content_ar.toLowerCase().includes(i.value.toLowerCase())||e.content_en&&e.content_en.toLowerCase().includes(i.value.toLowerCase())||e.content&&e.content.toLowerCase().includes(i.value.toLowerCase()))),v.value&&(t=t.filter(e=>e.status===v.value)),f.value&&(t=t.filter(e=>e.type===f.value)),t.slice((c.value-1)*k,c.value*k)}),N=p(()=>{let t=l.value;return i.value&&(t=t.filter(e=>e.title_ar&&e.title_ar.toLowerCase().includes(i.value.toLowerCase())||e.title_en&&e.title_en.toLowerCase().includes(i.value.toLowerCase())||e.title&&e.title.toLowerCase().includes(i.value.toLowerCase())||e.content_ar&&e.content_ar.toLowerCase().includes(i.value.toLowerCase())||e.content_en&&e.content_en.toLowerCase().includes(i.value.toLowerCase())||e.content&&e.content.toLowerCase().includes(i.value.toLowerCase()))),v.value&&(t=t.filter(e=>e.status===v.value)),f.value&&(t=t.filter(e=>e.type===f.value)),t.length}),A=p(()=>Math.ceil(N.value/k)),U=p(()=>l.value.length),H=p(()=>l.value.filter(t=>t.status==="published").length),z=p(()=>l.value.filter(t=>t.status==="draft").length),W=p(()=>{const t=new Date;return t.setHours(0,0,0,0),l.value.filter(e=>new Date(e.created_at)>=t).length}),Q=p(()=>[{key:"total",label:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØµÙØ­Ø§Øª",value:U.value,icon:"material-symbols:article",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{key:"published",label:"Ù…Ù†Ø´ÙˆØ±",value:H.value,icon:"material-symbols:visibility",iconBg:"bg-green-100",iconColor:"text-green-600"},{key:"draft",label:"Ù…Ø³ÙˆØ¯Ø©",value:z.value,icon:"material-symbols:edit",iconBg:"bg-orange-100",iconColor:"text-orange-600"},{key:"today",label:"Ø§Ù„ÙŠÙˆÙ…",value:W.value,icon:"material-symbols:today",iconBg:"bg-purple-100",iconColor:"text-purple-600"}]);p(()=>{const t=l.value.reduce((e,o)=>(e[o.type]=(e[o.type]||0)+1,e),{});return{labels:Object.keys(t).map(e=>T(e)),datasets:[{data:Object.values(t),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(239, 68, 68)"]}]}}),p(()=>{const t=l.value.reduce((e,o)=>(e[o.status]=(e[o.status]||0)+1,e),{});return{labels:Object.keys(t).map(e=>O(e)),datasets:[{data:Object.values(t),backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(245, 158, 11, 0.8)","rgba(107, 114, 128, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(245, 158, 11)","rgb(107, 114, 128)"]}]}}),p(()=>{const t={},e=["ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ"];return e.forEach(o=>{t[o]=0}),l.value.forEach(o=>{if(o.status==="published"){const b=new Date(o.created_at).getMonth();b<6&&t[e[b]]++}}),{labels:e,datasets:[{label:"Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø©",data:Object.values(t),backgroundColor:"rgba(139, 92, 246, 0.8)",borderColor:"rgb(139, 92, 246)",borderWidth:1}]}}),u({plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0}}}}),u({plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0}}}}),u({plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}});const Y=async()=>{try{g.value=!0,console.log("ðŸ”„ Loading pages from API...");const t=await $fetch("/api/content");console.log("ðŸ“Š API Response:",t),t&&t.pages&&Array.isArray(t.pages)?(l.value=t.pages,console.log("âœ… Loaded pages:",l.value.length)):Array.isArray(t)?(l.value=t,console.log("âœ… Loaded pages (direct array):",l.value.length)):(l.value=[],console.log("âš ï¸ No pages found, using empty array"))}catch(t){console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª:",t);let e={};try{const o=await $fetch("/api/content/statuses");o&&o.data&&o.data.statuses&&(e=o.data.statuses,console.log("ðŸ“„ Loaded saved statuses:",e))}catch{console.log("âš ï¸ Could not load saved statuses, using defaults")}l.value=[{id:1,title_ar:"Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",title_en:"Home Page",content_ar:"Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù…ÙˆÙ‚Ø¹ ÙˆÙƒØ§Ù„Ø© Ø§Ù„Ø³ÙØ±",content_en:"Main homepage of the travel agency website",type:"page",status:e[1]||"published",url:"/",created_at:new Date().toISOString()},{id:2,title_ar:"Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©",title_en:"Travel Packages",content_ar:"Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø©",content_en:"View all available travel packages",type:"page",status:e[2]||"published",url:"/packages/",created_at:new Date(Date.now()-864e5).toISOString()},{id:3,title_ar:"Ø¨Ø§Ù‚Ø© Ù…Ø®ØµØµØ©",title_en:"Custom Package",content_ar:"Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø§Ù‚Ø© Ø³ÙŠØ§Ø­ÙŠØ© Ù…Ø®ØµØµØ© Ø­Ø³Ø¨ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ",content_en:"Create a custom travel package according to your needs",type:"page",status:e[3]||"published",url:"/custom-package/",created_at:new Date(Date.now()-1728e5).toISOString()},{id:4,title_ar:"Ù…Ù† Ù†Ø­Ù†",title_en:"About Us",content_ar:"ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ÙˆÙƒØ§Ù„Ø© Ø§Ù„Ø³ÙØ± ÙˆØ®Ø¯Ù…Ø§ØªÙ†Ø§",content_en:"Learn about our travel agency and services",type:"page",status:e[4]||"published",url:"/about/",created_at:new Date(Date.now()-2592e5).toISOString()}],console.log("ðŸ“ Using main website pages data with saved statuses:",l.value.length,"pages")}finally{g.value=!1}},Z=async t=>{try{const e=t.status==="published"?"draft":"published",o=e==="published"?"Ù†Ø´Ø±":"Ø¥Ù„ØºØ§Ø¡ Ù†Ø´Ø±";if(console.log(`ðŸ”„ ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„ØµÙØ­Ø© ${t.id} Ù…Ù† ${t.status} Ø¥Ù„Ù‰ ${e}`),C.value.add(t.id),e==="draft"&&!confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ${o} Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©ØŸ`)){console.log("âŒ ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©"),C.value.delete(t.id);return}const d=await $fetch(`/api/content/${t.id}/status`,{method:"PUT",body:{status:e}});if(console.log("ðŸ“¡ Ø§Ø³ØªØ¬Ø§Ø¨Ø© API:",d),d.success){const b=l.value.findIndex(_=>_.id===t.id);b!==-1&&(l.value[b].status=e,console.log(`âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØµÙØ­Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¥Ù„Ù‰ ${e}`)),S(`ØªÙ… ${o} Ø§Ù„ØµÙØ­Ø© Ø¨Ù†Ø¬Ø§Ø­`,"success"),console.log(`âœ… ØªÙ… ${o} Ø§Ù„ØµÙØ­Ø© Ø¨Ù†Ø¬Ø§Ø­`);try{await $fetch("/api/public/navigation/refresh",{method:"POST"}),console.log("ðŸ”„ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„");const{refreshAllNavigation:_}=B();await _(),console.log("ðŸ”„ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©")}catch(_){console.log("âš ï¸ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„:",_)}}}catch(e){console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„ØµÙØ­Ø©:",e);const o=t.status==="published"?"draft":"published",d=l.value.findIndex(b=>b.id===t.id);d!==-1&&(l.value[d].status=o,console.log(`âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØµÙØ­Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¥Ù„Ù‰ ${o}`)),S("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØµÙØ­Ø© Ù…Ø­Ù„ÙŠØ§Ù‹","warning");try{await $fetch("/api/public/navigation/refresh",{method:"POST"}),console.log("ðŸ”„ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„ (fallback)")}catch(b){console.log("âš ï¸ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„ (fallback):",b)}}finally{C.value.delete(t.id)}},q=async t=>{if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡."))try{(await $fetch(`/api/content/${t.id}`,{method:"DELETE"})).success&&(l.value=l.value.filter(o=>o.id!==t.id),console.log("ØªÙ… Ø­Ø°Ù Ø§Ù„ØµÙØ­Ø© Ø¨Ù†Ø¬Ø§Ø­"))}catch(e){console.error("Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ØµÙØ­Ø©:",e),l.value=l.value.filter(o=>o.id!==t.id),console.log("ØªÙ… Ø­Ø°Ù Ø§Ù„ØµÙØ­Ø© Ù…Ø­Ù„ÙŠØ§Ù‹")}},G=t=>new Date(t).toLocaleDateString("ar-SA"),J=(t,e)=>t?t.length>e?t.substring(0,e)+"...":t:"",T=t=>({page:"ØµÙØ­Ø©",post:"Ù…Ù‚Ø§Ù„",news:"Ø£Ø®Ø¨Ø§Ø±"})[t]||t,K=t=>({page:"bg-blue-100 text-blue-800",post:"bg-green-100 text-green-800",news:"bg-purple-100 text-purple-800"})[t]||"bg-gray-100 text-gray-800",O=t=>({published:"Ù…Ù†Ø´ÙˆØ±",draft:"Ù…Ø³ÙˆØ¯Ø©",archived:"Ù…Ø¤Ø±Ø´Ù"})[t]||t,X=t=>({published:"bg-green-100 text-green-800",draft:"bg-orange-100 text-orange-800",archived:"bg-gray-100 text-gray-800"})[t]||"bg-gray-100 text-gray-800";return re([i,v,f],()=>{c.value=1}),le(async()=>{const{checkAuth:t}=ie();try{await t(!0),await Y()}catch(e){console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ØªÙˆÙ‰:",e)}}),ge({title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ - Wonder Land Admin",meta:[{name:"description",content:"Ø¥Ø¯Ø§Ø±Ø© ØµÙØ­Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰"},{name:"robots",content:"noindex, nofollow"}]}),(t,e)=>{const o=te,d=se,b=oe,_=ae;return m(),w("div",be,[e[25]||(e[25]=s("div",{class:"h-16"},null,-1)),n(x)?(m(),w("div",pe,[s("div",{class:$(["px-4 py-3 rounded-lg shadow-lg border-l-4 flex items-center space-x-3 space-x-reverse",n(x).type==="success"?"bg-green-50 border-green-400 text-green-800":n(x).type==="warning"?"bg-yellow-50 border-yellow-400 text-yellow-800":"bg-red-50 border-red-400 text-red-800"])},[r(o,{name:n(x).type==="success"?"material-symbols:check-circle":n(x).type==="warning"?"material-symbols:warning":"material-symbols:error",class:"h-5 w-5"},null,8,["name"]),s("span",he,h(n(x).message),1)],2)])):M("",!0),r(b,{title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰",description:"Ø¥Ø¯Ø§Ø±Ø© ØµÙØ­Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰"},{actions:y(()=>[r(d,{to:"/admin/content/analytics",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm"},{default:y(()=>[r(o,{name:"material-symbols:analytics",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),e[6]||(e[6]=s("span",{class:"hidden sm:inline"},"Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",-1)),e[7]||(e[7]=s("span",{class:"sm:hidden"},"Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",-1))]),_:1}),r(d,{to:"/admin/content/templates",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm"},{default:y(()=>[r(o,{name:"material-symbols:widgets",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),e[8]||(e[8]=s("span",{class:"hidden sm:inline"},"Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨",-1)),e[9]||(e[9]=s("span",{class:"sm:hidden"},"Ù‚ÙˆØ§Ù„Ø¨",-1))]),_:1}),r(d,{to:"/admin/content/editor",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm"},{default:y(()=>[r(o,{name:"material-symbols:edit",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),e[10]||(e[10]=s("span",{class:"hidden sm:inline"},"Ù…Ø­Ø±Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰",-1)),e[11]||(e[11]=s("span",{class:"sm:hidden"},"Ù…Ø­Ø±Ø±",-1))]),_:1}),s("button",{onClick:F,class:"inline-flex items-center px-3 sm:px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",disabled:n(L)},[n(L)?(m(),P(o,{key:0,name:"material-symbols:progress-activity",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2 animate-spin"})):(m(),P(o,{key:1,name:"material-symbols:refresh",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"})),e[12]||(e[12]=s("span",{class:"hidden sm:inline"},"ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ù‚Ù„",-1)),e[13]||(e[13]=s("span",{class:"sm:hidden"},"ØªØ­Ø¯ÙŠØ«",-1))],8,ye),s("button",{onClick:e[0]||(e[0]=(...a)=>t.forceRefreshPage&&t.forceRefreshPage(...a)),class:"inline-flex items-center px-3 sm:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm"},[r(o,{name:"material-symbols:refresh",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),e[14]||(e[14]=s("span",{class:"hidden sm:inline"},"ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©",-1)),e[15]||(e[15]=s("span",{class:"sm:hidden"},"ØªØ­Ø¯ÙŠØ«",-1))]),r(d,{to:"/admin/content/create",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm"},{default:y(()=>[r(o,{name:"material-symbols:add",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),e[16]||(e[16]=s("span",{class:"hidden sm:inline"},"Ø¥Ø¶Ø§ÙØ© ØµÙØ­Ø© Ø¬Ø¯ÙŠØ¯Ø©",-1)),e[17]||(e[17]=s("span",{class:"sm:hidden"},"Ø¥Ø¶Ø§ÙØ©",-1))]),_:1})]),_:1}),r(_,{stats:n(Q)},null,8,["stats"]),s("div",ve,[s("div",fe,[s("div",xe,[r(o,{name:"material-symbols:search",class:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),D(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>E(i)?i.value=a:null),type:"text",placeholder:"Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ØµÙØ­Ø§Øª...",class:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[de,n(i)]])]),D(s("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>E(v)?v.value=a:null),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[18]||(e[18]=[s("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª",-1),s("option",{value:"published"},"Ù…Ù†Ø´ÙˆØ±",-1),s("option",{value:"draft"},"Ù…Ø³ÙˆØ¯Ø©",-1),s("option",{value:"archived"},"Ù…Ø¤Ø±Ø´Ù",-1)]),512),[[R,n(v)]]),D(s("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>E(f)?f.value=a:null),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[19]||(e[19]=[s("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹",-1),s("option",{value:"page"},"ØµÙØ­Ø©",-1),s("option",{value:"post"},"Ù…Ù‚Ø§Ù„",-1),s("option",{value:"news"},"Ø£Ø®Ø¨Ø§Ø±",-1)]),512),[[R,n(f)]])])]),s("div",we,[n(g)?(m(),w("div",_e,[r(o,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"}),e[20]||(e[20]=s("span",{class:"mr-3 text-gray-600"},"Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª...",-1))])):n(I).length>0?(m(),w("div",Ce,[s("table",ke,[e[21]||(e[21]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ø§Ù„ØµÙØ­Ø© "),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ø§Ù„Ø±Ø§Ø¨Ø· "),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ø§Ù„Ù†ÙˆØ¹ "),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ø§Ù„Ø­Ø§Ù„Ø© "),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ "),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ")])],-1)),s("tbody",Le,[(m(!0),w(ce,null,ue(n(I),a=>(m(),w("tr",{key:a.id,class:"hover:bg-gray-50"},[s("td",Se,[s("div",$e,[s("div",Pe,[s("div",Ne,[r(o,{name:"material-symbols:article",class:"h-6 w-6 text-gray-600"})])]),s("div",Ae,[s("div",De,h(a.title_ar||a.title_en||a.title),1),s("div",Ee,h(J(a.content_ar||a.content_en||a.content,50)),1)])])]),s("td",Ie,[s("div",Te,[s("a",{href:a.url||`/${a.slug||""}`,target:"_blank",class:"text-sm text-indigo-600 hover:text-indigo-900 font-mono bg-gray-100 px-2 py-1 rounded"},h(a.url||`/${a.slug||""}`),9,Oe)])]),s("td",Me,[s("span",{class:$([K(a.type),"px-2 py-1 text-xs font-medium rounded-full"])},h(T(a.type)),3)]),s("td",Re,[s("span",{class:$([X(a.status),"px-2 py-1 text-xs font-medium rounded-full"])},h(O(a.status)),3)]),s("td",je,h(G(a.created_at)),1),s("td",Be,[s("div",Ve,[s("a",{href:a.url||`/${a.slug||""}`,target:"_blank",class:"text-indigo-600 hover:text-indigo-900 p-1 rounded",title:"Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹"},[r(o,{name:"material-symbols:open-in-new",class:"h-4 w-4"})],8,Fe),r(d,{to:`/admin/content/preview/${a.id}`,class:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Ù…Ø¹Ø§ÙŠÙ†Ø©"},{default:y(()=>[r(o,{name:"material-symbols:visibility",class:"h-4 w-4"})]),_:2},1032,["to"]),r(d,{to:`/admin/content/editor?page=${a.id}`,class:"text-purple-600 hover:text-purple-900 p-1 rounded",title:"ØªØ­Ø±ÙŠØ± Ù…ØªÙ‚Ø¯Ù…"},{default:y(()=>[r(o,{name:"material-symbols:design-services",class:"h-4 w-4"})]),_:2},1032,["to"]),r(d,{to:`/admin/content/${a.id}/edit`,class:"text-green-600 hover:text-green-900 p-1 rounded",title:"ØªØ­Ø±ÙŠØ±"},{default:y(()=>[r(o,{name:"material-symbols:edit",class:"h-4 w-4"})]),_:2},1032,["to"]),s("button",{onClick:ee=>Z(a),class:$([[a.status==="published"?"text-orange-600 hover:text-orange-900 bg-orange-50 hover:bg-orange-100":"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100",n(C).has(a.id)?"opacity-50 cursor-not-allowed":""],"p-2 rounded-lg transition-all duration-200 border border-current border-opacity-20"]),title:a.status==="published"?"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø± (Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙØ­Ø©)":"Ù†Ø´Ø± (Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙØ­Ø©)",disabled:n(g)||n(C).has(a.id)},[n(C).has(a.id)?(m(),P(o,{key:0,name:"material-symbols:progress-activity",class:"h-4 w-4 animate-spin"})):(m(),P(o,{key:1,name:a.status==="published"?"material-symbols:visibility-off":"material-symbols:visibility",class:"h-4 w-4"},null,8,["name"]))],10,Ue),s("button",{onClick:ee=>q(a),class:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-gray-100 transition-colors",title:"Ø­Ø°Ù",disabled:n(g)},[r(o,{name:"material-symbols:delete",class:"h-4 w-4"})],8,He)])])]))),128))])])])):(m(),w("div",ze,[r(o,{name:"material-symbols:article",class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e[23]||(e[23]=s("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙØ­Ø§Øª",-1)),e[24]||(e[24]=s("p",{class:"text-gray-500 mb-6"},"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ ØµÙØ­Ø§Øª",-1)),r(d,{to:"/admin/content/create",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:y(()=>[r(o,{name:"material-symbols:add",class:"h-5 w-5 ml-2"}),e[22]||(e[22]=me(" Ø¥Ø¶Ø§ÙØ© ØµÙØ­Ø© Ø¬Ø¯ÙŠØ¯Ø© "))]),_:1})]))]),n(A)>1?(m(),w("div",We,[s("div",Qe," Ø¹Ø±Ø¶ "+h((n(c)-1)*k+1)+" Ø¥Ù„Ù‰ "+h(Math.min(n(c)*k,n(N)))+" Ù…Ù† Ø£ØµÙ„ "+h(n(N))+" ØµÙØ­Ø© ",1),s("div",Ye,[s("button",{onClick:e[4]||(e[4]=a=>c.value=Math.max(1,n(c)-1)),disabled:n(c)===1,class:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Ø§Ù„Ø³Ø§Ø¨Ù‚ ",8,Ze),s("span",qe,h(n(c)),1),s("button",{onClick:e[5]||(e[5]=a=>c.value=Math.min(n(A),n(c)+1)),disabled:n(c)===n(A),class:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Ø§Ù„ØªØ§Ù„ÙŠ ",8,Ge)])])):M("",!0)])}}};export{at as default};
